<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lethal Company | Gogol Record</title>
    <link rel="stylesheet" href="stylesgame.css">
</head>
<body class="fade-out">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                document.body.classList.remove('fade-out');
            }, 50);
        });
    </script>

<!-- Header -->
    <header>
        <a href="index.html" style="text-decoration: none; color: inherit;" class="page-link">
            <div class="logo-container">
                <div class="logo">
                    <img src="../MRGoGol.noel.png" width="100%" height="100%" alt="logo">
                </div>
                <div class="site-name">GoGol Record</div>
            </div>
        </a>
        <div class="nav-buttons">
            <a href="../index.html" class="nav-button page-link">ACCUEIL</a>
            <a href="../games.html" class="nav-button active page-link">JEUX</a>
            <a href="../logiciels.html" class="nav-button page-link">LOGICIELS</a>
        </div>
    </header>
    <!-- Page transition overlay -->
    <div class="page-transition-overlay" id="pageTransition"></div>
    <div class="media-container">
        <div class="main-image-container" id="media-display">
            <img src="img/LethalCompany.png" alt="Lethal Company Cover" id="cover-image">
            <div class="video-arrow" id="play-button"></div>
            <!-- YouTube trailer will be embedded here -->
        </div>
        <div class="info-panel">
            <div class="info-label">Développeur</div>
            <div class="info-label-info">Zeekerss</div>

            <div class="info-label" style="margin-top: var(--spacing-md);">Genre</div>
            <div class="info-label-info">Horreur</div>

            <div class="info-label">Date de Sortie</div>
            <div class="info-label-info">23 Octobre 2023</div>

            <div class="info-label" style="margin-top: var(--spacing-md);">Mode de Jeu</div>
            <div class="info-label-info">Solo, Co-Op</div>
        </div>
    </div>
    
    <div class="title">Une coopérative d'horreur qui consiste à fouiller les lunes abandonnées pour vendre de la ferraille à la société. </div>
    
    <a href="/Indisponible.html" class="download-button">Téléchargement</a>

    <!-- Added games button with absolute path -->
    <a href="/games.html" class="games-button"><span style="font-size: 1.5em; line-height: 0; position: relative; top: 2px;">⬅</span> Autres Jeux</a>

 

    <!-- YouTube API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    
    <script>
        // Variable to hold the YouTube player
        let player;
        
        // Function called by the YouTube API once it's ready
        function onYouTubeIframeAPIReady() {
            // This function will be available once the button is clicked and player is created
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const mediaDisplay = document.getElementById('media-display');
            const coverImage = document.getElementById('cover-image');
            const playButton = document.getElementById('play-button');
            const videoId = '0sYnMh96qpA'; // The video ID from your YouTube URL
            
            // Create a div for the YouTube player
            const playerDiv = document.createElement('div');
            playerDiv.id = 'youtube-player';
            playerDiv.style.width = '100%';
            playerDiv.style.height = '100%';
            playerDiv.style.display = 'none';
            mediaDisplay.appendChild(playerDiv);
            
            playButton.addEventListener('click', function() {
                // Hide the image and play button
                coverImage.style.display = 'none';
                playButton.style.display = 'none';
                playerDiv.style.display = 'block';
                
                // Create the YouTube player
                player = new YT.Player('youtube-player', {
                    videoId: videoId,
                    playerVars: {
                        'autoplay': 1,
                        'controls': 1,
                        'rel': 0,
                        'modestbranding': 1
                    },
                    events: {
                        'onStateChange': onPlayerStateChange
                    }
                });
            });
            
            // Function to handle player state changes
            function onPlayerStateChange(event) {
                // State 0 is when the video ends
                if (event.data === 0) {
                    // Video ended, restore the image and play button
                    playerDiv.style.display = 'none';
                    coverImage.style.display = 'block';
                    playButton.style.display = 'flex';
                    
                    // Destroy the player to free resources and prepare for next play
                    player.destroy();
                    
                    // Recreate the player div for next use
                    const newPlayerDiv = document.createElement('div');
                    newPlayerDiv.id = 'youtube-player';
                    newPlayerDiv.style.width = '100%';
                    newPlayerDiv.style.height = '100%';
                    newPlayerDiv.style.display = 'none';
                    mediaDisplay.appendChild(newPlayerDiv);
                }
            }
        });

        // Fade in the page when it loads
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                document.body.classList.remove('fade-out');
            }, 50);
        });
        
        console.log('Game website loaded!');
        
        // Add click event listeners to all page links
        const pageLinks = document.querySelectorAll('.page-link');
        pageLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                
                // Only apply transition if it's a valid link (not #)
                if (href && !href.startsWith('#')) {
                    e.preventDefault();
                    
                    // Show the transition overlay
                    const overlay = document.getElementById('pageTransition');
                    overlay.classList.add('active');
                    
                    // Wait for the animation to complete before navigating
                    setTimeout(function() {
                        window.location.href = href;
                    }, 500); // Match the transition duration
                }
            });
        });
    </script>
</body>
</html>