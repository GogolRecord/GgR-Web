<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escape The Backrooms | Gogol Record</title>
    <link rel="stylesheet" href="stylesgame.css">
</head>
<body class="fade-out">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                document.body.classList.remove('fade-out');
            }, 50);
        });
    </script>
    <!-- Page transition overlay -->
    <div class="page-transition-overlay" id="pageTransition"></div>
    <div class="media-container">
        <div class="main-image-container" id="media-display">
            <img src="img/EscapeTheBackrooms.png" alt="Escape The Backrooms Cover" id="cover-image">
            <div class="video-arrow" id="play-button"></div>
            <!-- YouTube trailer will be embedded here -->
        </div>
        <div class="info-panel">
            <div class="info-label">Développeur</div>
            <div class="info-label-info">  Fancy Games	</div>

            <div class="info-label" style="margin-top: var(--spacing-md);">Genre</div>
            <div class="info-label-info">Horreur</div>

            <div class="info-label">Date de Sortie</div>
            <div class="info-label-info">11 août 2022</div>

            <div class="info-label" style="margin-top: var(--spacing-md);">Mode de Jeu</div>
            <div class="info-label-info">Co-Op</div>
        </div>
    </div>
    
    <div class="title">Escape the Backrooms est un jeu d'exploration d'horreur coopératif pour 1 à 4 joueurs. Traversez des niveaux d'arrière-salles sinistres tout en évitant les entités et autres dangers pour tenter de vous échapper. Des mises à jour gratuites du contenu avec de nouveaux niveaux et modes de jeu permettent à la communauté d'être récompensée. </div>
    
    <a href="https://www.mediafire.com/file/9a0rzbtv89bn38y/EscapeTheBackrooms.zip/file" class="download-button">Téléchargement (Partie 1)</a>
    <a href="https://storage.googleapis.com/brandify-usercontent-dev/1b45314b-db53-430b-b590-94a2d73f96e7?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=alex-brandify-dev%40brandify-251201.iam.gserviceaccount.com%2F20250228%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20250228T190948Z&X-Goog-Expires=3600&X-Goog-SignedHeaders=host&response-content-disposition=attachment%3B%20filename%3D%22EscapeTheBackrooms-WindowsNoEditor.pak%22&X-Goog-Signature=4da1f2c49ed4613237b852b35903c6717c47baf2b9d1fa2506de0ba3a0b83a7362b755ab8f6b3c1d70b96add5ef920ba1af1b0eeaf34b211125f51bf93570d2c02effe0552e6cdd75a0d7a6083c60cb4464622797541a84f6471b63dca13d5a9276d5eb57f2e7da5f167dbd181b89ef99992888bde9bfeef076444ca14ac5c538c35a10fe5840546042c4973099d9569fe5aedab8f81a1fcefb74e5b25bd6f0bc7badf061ca09bcf4f95c57fa135d3d2ea90f20ce52aa2057ddb28aa25e263f7973fcc75314e7ebcdfea68cbbeb2795de8bdcd4d39f6acf66fc385186e95500c641695ffce50edf8a5f2533db97cec64230aad4b0290209aa4da25aaf86395d9" class="download-button">Téléchargement (Partie 2)</a>

    <!-- Added games button with absolute path -->
    <a href="/games.html" class="games-button"> ← Autres Jeux</a>

    <div class="footer">
        © 2025 GOGOL RECORD
    </div>

    <!-- YouTube API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    
    <script>
        // Variable to hold the YouTube player
        let player;
        
        // Function called by the YouTube API once it's ready
        function onYouTubeIframeAPIReady() {
            // This function will be available once the button is clicked and player is created
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const mediaDisplay = document.getElementById('media-display');
            const coverImage = document.getElementById('cover-image');
            const playButton = document.getElementById('play-button');
            const videoId = 'NaUNAAvxKe4'; // The video ID from your YouTube URL
            
            // Create a div for the YouTube player
            const playerDiv = document.createElement('div');
            playerDiv.id = 'youtube-player';
            playerDiv.style.width = '100%';
            playerDiv.style.height = '100%';
            playerDiv.style.display = 'none';
            mediaDisplay.appendChild(playerDiv);
            
            playButton.addEventListener('click', function() {
                // Hide the image and play button
                coverImage.style.display = 'none';
                playButton.style.display = 'none';
                playerDiv.style.display = 'block';
                
                // Create the YouTube player
                player = new YT.Player('youtube-player', {
                    videoId: videoId,
                    playerVars: {
                        'autoplay': 1,
                        'controls': 1,
                        'rel': 0,
                        'modestbranding': 1
                    },
                    events: {
                        'onStateChange': onPlayerStateChange
                    }
                });
            });
            
            // Function to handle player state changes
            function onPlayerStateChange(event) {
                // State 0 is when the video ends
                if (event.data === 0) {
                    // Video ended, restore the image and play button
                    playerDiv.style.display = 'none';
                    coverImage.style.display = 'block';
                    playButton.style.display = 'flex';
                    
                    // Destroy the player to free resources and prepare for next play
                    player.destroy();
                    
                    // Recreate the player div for next use
                    const newPlayerDiv = document.createElement('div');
                    newPlayerDiv.id = 'youtube-player';
                    newPlayerDiv.style.width = '100%';
                    newPlayerDiv.style.height = '100%';
                    newPlayerDiv.style.display = 'none';
                    mediaDisplay.appendChild(newPlayerDiv);
                }
            }
        });

        // Fade in the page when it loads
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                document.body.classList.remove('fade-out');
            }, 50);
        });
        
        console.log('Game website loaded!');
        
        // Add click event listeners to all page links
        const pageLinks = document.querySelectorAll('.page-link');
        pageLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                
                // Only apply transition if it's a valid link (not #)
                if (href && !href.startsWith('#')) {
                    e.preventDefault();
                    
                    // Show the transition overlay
                    const overlay = document.getElementById('pageTransition');
                    overlay.classList.add('active');
                    
                    // Wait for the animation to complete before navigating
                    setTimeout(function() {
                        window.location.href = href;
                    }, 500); // Match the transition duration
                }
            });
        });
    </script>
</body>
</html>
